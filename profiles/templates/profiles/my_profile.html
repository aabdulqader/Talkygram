{% extends 'base.html' %}
{% block title %}{{profile.user}}'s Profile{% endblock title %}
{% block content %}

    <div class="ui modal mymodal">
        <i class="close icon"></i>
        <div class="image content">
            <div class="ui medium image">
            <img src="{{profile.avatar.url}}">
            </div>
            <div class="description">
                <div class="ui header">Update Your Profile</div>
                    <form action="" method = 'POST' class = 'ui form', enctype = 'multipart/form-data'>
                    {% csrf_token %}
                        {{form.as_p}}
                        {{ form.media}}            
                    <div class="actions">       
                        <button type = 'submit'  class="ui positive right labeled icon button">
                        Update
                        <i class="checkmark icon"></i>
                        </button>
                    </form>
                    </div>
                </div>
            </div>
        </div>


    
    
    <div class="ui segment">
        {% if confirm %}
            <div class="ui success message" wfd-id="50">
                <div class="header" wfd-id="51">
                    Your profile has been updated successful.
                </div>
            </div>
        {% endif %}
        <div class="ui grid">
            <div class="row">
                <div class="six wide column">
                    <img class="ui medium circular image" src="{{profile.avatar.url}}" alt="">
                    <div class="row mt-5">
                        <button class = 'ui secondary button' id='modal-btn'>Update</button>
                    </div>
                </div>
                <div class="ten wide column">
                    <table class="ui table">
                        <tbody>
                            <tr>
                                <td>Username</td>
                                <td>{{profile.user}}</td>
                            </tr>
                            <tr>
                                <td>First Name</td>
                                <td>{{profile.first_name}}</td>
                            </tr>
                            <tr>
                                <td>Last Name</td>
                                <td>{{profile.last_name}}</td>
                            </tr>
                            <tr>
                                <td>Bio</td>
                                <td>{{profile.bio}}</td>
                            </tr>
                            <tr>
                                <td>Number of Friends</td>
                                <td>{{profile.get_friends_no}}</td>
                            </tr>
                            <tr>
                                <td>Friend Lists</td>
                                <td>
                                    {% for friend in profile.get_friends %}
                                        <li>{{friend}}</li>
                                    {% endfor %}
                                </td>
                            </tr>
                            <tr>
                                <td>Number of Posts</td>
                                <td>{{profile.get_Posts_no}}</td>
                            </tr>
                            <tr>
                                <td>Number of likes given</td>
                                <td>{{profile.get_likes_given_no}}</td>
                            </tr>
                            <tr>
                                <td>Number of likes received</td>
                                <td>{{profile.get_likes_received_no}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


{% endblock content %}

